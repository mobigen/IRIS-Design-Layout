// -------------------------
// Select
// -------------------------

.select {
  position: relative;
  flex-shrink: 0;
  min-width: rem(64px);

  // -------------------------
  // Status
  // -------------------------
  &--open {
    .select-selector {
      &__button,
      &__input {
        border-color: $secondary;
        box-shadow: 0 0 rem(4px) rgba(77, 174, 255, 0.4);

        &:hover:not(:disabled) {
          border-color: $secondary;
        }

        &:focus-visible:not(:disabled) {
          border: 2px solid $default-focus;
          box-shadow: none;
        }
      }

      &__icon {
        transform: rotate(-180deg);
      }
    }

    .select-container {
      display: block;
    }

    &.select--borderless {
      .select-selector {
        &__button {
          .select-selector__title {
            color: $secondary;
          }
          .select-selector__icon {
            fill: $secondary;
          }

          &:hover:not(:disabled) {
            border-color: transparent;
            background-color: $ui-02;

            .select-selector__title {
              color: $secondary;
            }
            .select-selector__icon {
              fill: $secondary;
            }
          }
        }

        // borderless - text-input
        &__input {
          box-shadow: none;

          .text-input {
            color: $secondary;
          }

          & + .select-selector__icon {
            fill: $secondary;
          }

          &:hover:not(:disabled) {
            .text-input {
              background-color: $ui-02;
              color: $secondary;
            }

            & + .select-selector__icon {
              fill: $secondary;
            }
          }

          &:active {
            .text-input {
              background-color: $ui-02;
              color: $secondary;
            }
          }

          &:focus {
            .text-input {
              box-shadow: none;
              color: $secondary;
            }
          }
        }
      }
    }
  }

  &--close {
    .select-container {
      display: none;
    }
  }

  &--disabled {
    .select-selector {
      &__button {
        border-color: $hover-row !important;
        cursor: not-allowed;
        box-shadow: none;

        &:hover:not(:disabled),
        &:hover:active,
        &:hover:focus {
          box-shadow: none;
          border-color: $hover-row !important;
          cursor: not-allowed;
        }

        &:focus {
          box-shadow: none;
        }
      }

      &__title {
        color: $text-05;
      }

      &__icon {
        opacity: 0.5;
      }
    }
    // borderless - text-input
    &.select--borderless {
      .select-selector__input {
        cursor: not-allowed;

        .text-input {
          color: $text-05;
        }

        & + .select-selector__icon {
          fill: $text-05;
        }

        &:hover:not(:disabled),
        &:hover:active,
        &:hover:focus {
          .text-input {
            background-color: $ui-02 !important;
            color: $text-05 !important;
            cursor: not-allowed;
          }

          & + .select-selector__icon {
            fill: $text-05 !important;
          }
        }

        &:active {
          .text-input {
            background-color: $ui-02 !important;
            color: $text-05 !important;
          }

          & + .select-selector__icon {
            fill: $text-05 !important;
          }
        }

        &:focus {
          .text-input {
            background-color: $ui-02;
            color: $text-05;
          }

          & + .select-selector__icon {
            fill: $text-05;
          }
        }
      }
    }
  }

  &--open.select--disabled {
    .select-selector__icon {
      transform: none;
    }

    .select-container {
      display: none;
    }
  }
}

.select-selector {
  position: relative;
  height: $button-height-md;

  &__button {
    @include button-normal;
    justify-content: flex-start;
    width: 100%;
    height: 100%;
    padding: $spacing-2xs $spacing-xl $spacing-2xs $spacing-sm;
    background-color: $ui-02;
    border: 1px solid $ui-04;
    border-radius: $button-border-radius;

    &:active {
      border-color: $secondary !important;
    }

    &:hover {
      border-color: $text-03;
    }

    &:focus {
      border-color: $secondary;
      box-shadow: 0 0 rem(4px) rgba(77, 174, 255, 0.4);
    }

    &:focus-visible:not(:disabled) {
      border: 2px solid $default-focus;
      box-shadow: none;
    }
  }

  &__input {
    height: 100%;

    .text-input {
      @include font-weight("regular");
      @include ellipsis;
      width: 100%;
      height: 100%;
      padding-right: $spacing-xl;
      color: $text-02;

      &:focus-visible:not(:disabled) {
        border: 2px solid $default-focus;
        box-shadow: none;
      }
    }

    &-icon {
      position: absolute;
      left: rem(13px);
      top: 50%;
      transform: translateY(-50%);
      z-index: z("float");
      & + .text-input {
        padding-left: $spacing-xl + $spacing-2xs;
      }
    }
  }

  &__title {
    @include ellipsis;
    @include font-size("14");
    @include font-weight("regular");
    color: $text-02;

    &-icon {
      width: rem(20px);
      height: rem(20px);
      vertical-align: middle;
    }
  }

  &__icon {
    @include svg-icon-size(20px);
    position: absolute;
    top: 50%;
    margin-top: rem(-10px);
    right: $spacing-xs;
    transform: none;
    pointer-events: none;

    &-button {
      @include button-normal;
      display: flex;
      align-items: center;
      position: absolute;
      top: 0;
      right: 0;
      background-color: transparent;
      .select-selector__icon {
        position: static;
        margin-top: 0;
      }
    }
  }
}
// select panel(dropdown)
.select-container {
  @include list;
  @include layer("overlay");
  display: none;
  z-index: z("dropdown");
  position: absolute;
  top: calc(100% + 2px);
  // left: 0;
  width: 100%;
  max-height: rem(320px);
  padding: $spacing-2xs 0;
  background-color: $ui-02;
  border-radius: $field-border-radius;
  border: 1px solid $ui-04;
  overflow: auto;

  &__list {
    background-color: $ui-02;
  }

  &__button {
    &:focus-visible:not(:disabled) {
      background-color: $ui-01;
    }
  }

  &__subtext {
    @include font-size("12");
    color: $text-03;
    margin-left: auto;
  }

  &--up {
    box-shadow: 0 0 rem(8px) 0 $box-shadow;
  }
  // -------------------------
  // select 화살표 UI 상태에 따른 컬러 값
  // -------------------------
  &__item {
    &:hover,
    &:active {
      .select-container__button-icon {
        fill: $primary;
      }
    }

    &--selected {
      .select-container__button-icon {
        fill: $primary;
      }
    }

    &--disabled {
      .select-container__button-icon,
      .select-container__button-icon:hover,
      .select-container__button-icon:active {
        fill: $hover-row;
      }
    }
  }
}

.svg-icon + .select-selector__title {
  margin-left: $spacing-2xs;
}

// -------------------------
// modifier
// -------------------------

.select {
  // -------------------------
  // lg
  // -------------------------
  &--lg {
    .select-selector {
      height: $button-height-lg;
    }

    .select-container {
      &__button {
        @include stable-padding($spacing-2xs, $spacing-sm);
        height: $button-height-lg;
      }

      &__icon {
        @include svg-icon-size(20px);
        right: $spacing-sm;
      }
    }
  }

  // -------------------------
  // sm
  // -------------------------
  &--sm {
    .select-selector {
      height: $button-height-sm;

      &__button {
        padding-left: $spacing-xs;
        padding-right: $spacing-lg;
      }

      &__icon {
        right: rem(4px);
        width: rem(18px);
        height: rem(18px);
        margin-top: -$spacing-xs;
      }
    }

    .select-container {
      .select-selector__icon {
        @include svg-icon-size(14px);
      }

      &__button {
        @include stable-padding($spacing-3xs, $spacing-xs);
        height: $button-height-sm;
        line-height: 0.75;
      }

      &__icon {
        @include svg-icon-size(16px);
      }

      &__text {
        @include font-size("12");
      }
    }
  }

  // -------------------------
  // right
  // -------------------------
  &--right {
    .select-container {
      right: 0;
    }
  }

  // -------------------------
  // left
  // -------------------------
  &--left {
    .select-container {
      left: 0;
    }
  }

  // -------------------------
  // up
  // -------------------------
  &--up {
    .select-container {
      top: auto;
      bottom: calc(100% + 2px);
      box-shadow: 0 0 rem(8px) 0 $box-shadow;
    }
  }

  // -------------------------
  // borderless
  // -------------------------
  &--borderless {
    .select-selector__button {
      background-color: transparent;
      border-color: transparent;
      box-shadow: none;

      &:hover:not(:disabled) {
        background-color: $ui-01;

        .select-selector__title {
          color: $text-01;
        }
        .select-selector__icon {
          fill: $text-01;
        }
      }

      &:active {
        border-color: transparent !important;
        box-shadow: none;
        background-color: $ui-01;

        .select-selector__title {
          color: $active-secondary;
        }
        .select-selector__icon {
          fill: $active-secondary;
        }
      }
      &:focus {
        box-shadow: none;
      }
    }

    // borderless - text-input
    .select-selector__input {
      .text-input {
        background-color: transparent;
        border-color: transparent;
        box-shadow: none;
      }

      &:hover:not(:disabled) {
        .text-input {
          background-color: $ui-01;
          color: $text-01;
        }

        & + .select-selector__icon {
          fill: $text-01;
        }
      }

      &:active {
        .text-input {
          background-color: $ui-01;
          color: $secondary;
        }

        & + .select-selector__icon {
          fill: $secondary;
        }
      }

      &:focus {
        .text-input {
          box-shadow: none;
          color: $secondary;
        }
      }
    }
  }

  // -------------------------
  // view-all
  // -------------------------
  &--view-all {
    .select-container {
      width: auto;
    }
  }

  // -------------------------
  // color-picker
  // -------------------------
  &--color-picker {
    .select-selector__button {
      padding-left: $spacing-2xs;
      padding-right: $spacing-lg + $spacing-2xs;
    }

    .color-picker__color {
      width: rem(24px);
      height: 100%;
      border: 1px solid $ui-04;
    }
  }
}
